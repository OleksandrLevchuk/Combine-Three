[gd_scene load_steps=2 format=3 uid="uid://cakkjmb01b3cp"]

[sub_resource type="GDScript" id="GDScript_i7gq5"]
script/source = "extends Button
var offset: Vector2
var initial_position: Vector2
@onready var MAX_DESTROY_DISTANCE = size.x


func _ready():
	set_process( false )


func _process( _delta ):
	position = get_global_mouse_position() - offset
	if position.distance_to(initial_position) > MAX_DESTROY_DISTANCE:
		_on_button_up()


func _on_button_down():
	initial_position = position
	offset = get_global_mouse_position() - position
	set_process( true )


func _on_button_up():
	set_process( false )
	for node in get_tree().get_nodes_in_group(\"Tiles\"):
		if node != self and position.distance_to( node.position ) < MAX_DESTROY_DISTANCE:
			node.queue_free()
			queue_free()
	position = initial_position
"

[node name="Button" type="Button" groups=["Tiles"]]
offset_right = 100.0
offset_bottom = 100.0
script = SubResource("GDScript_i7gq5")

[connection signal="button_down" from="." to="." method="_on_button_down"]
[connection signal="button_up" from="." to="." method="_on_button_up"]
